<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BagBros Capital Management</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Georgia', serif;
            background: #0a0a0a;
            color: #f5f5f5;
            line-height: 1.6;
            overflow-x: hidden;
            padding-top: 90px; /* Space for ticker + nav */
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Market Ticker Bar */
        .ticker-bar {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 30px;
            background: linear-gradient(90deg, #000000 0%, #1a1a1a 50%, #000000 100%);
            border-bottom: 1px solid #d4af37;
            z-index: 1001;
            overflow: hidden;
        }

        .ticker-content {
            display: flex;
            align-items: center;
            height: 100%;
            animation: scroll-ticker 45s linear infinite;
            white-space: nowrap;
        }

        @keyframes scroll-ticker {
            0% {
                transform: translateX(100%);
            }
            100% {
                transform: translateX(-100%);
            }
        }

        .ticker-item {
            display: inline-flex;
            align-items: center;
            margin-right: 25px;
            font-size: 11px;
            font-family: 'Courier New', monospace;
        }

        .ticker-symbol {
            color: #d4af37;
            font-weight: bold;
            margin-right: 4px;
        }

        .ticker-price {
            color: #f5f5f5;
            margin-right: 4px;
        }

        .ticker-change {
            margin-right: 4px;
            font-weight: bold;
        }

        .ticker-change.positive {
            color: #4caf50;
        }

        .ticker-change.negative {
            color: #ff4444;
        }

        .ticker-mcap {
            color: #888;
            font-size: 10px;
        }

        /* Navigation */
        nav {
            background: rgba(0, 0, 0, 0.95);
            backdrop-filter: blur(10px);
            position: fixed;
            top: 30px; /* Position below ticker */
            width: 100%;
            z-index: 1000;
            border-bottom: 1px solid #d4af37;
        }

        .nav-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 20px;
            max-width: 1200px;
            margin: 0 auto;
        }

        .logo {
            font-size: 24px;
            font-weight: bold;
            color: #d4af37;
            text-decoration: none;
        }

        .nav-links {
            display: flex;
            gap: 30px;
            list-style: none;
        }

        .nav-links a {
            color: #f5f5f5;
            text-decoration: none;
            font-size: 16px;
            transition: color 0.3s ease;
            cursor: pointer;
        }

        .nav-links a:hover, .nav-links a.active {
            color: #d4af37;
        }

        /* Page Content */
        .page {
            display: none;
            min-height: 100vh;
            padding-top: 20px; /* Reduced since body already has padding */
        }

        .page.active {
            display: block;
        }

        /* Home Page */
        .hero {
            height: 90vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            background: linear-gradient(135deg, #0a0a0a 0%, #1a1a1a 100%);
            position: relative;
        }

        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: radial-gradient(circle at 50% 50%, rgba(212, 175, 55, 0.1) 0%, transparent 70%);
        }

        .hero-content {
            position: relative;
            z-index: 2;
        }

        .main-logo {
            font-size: 4rem;
            font-weight: bold;
            color: #d4af37;
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        }

        .tagline {
            font-size: 1.5rem;
            color: #f5f5f5;
            font-style: italic;
            margin-bottom: 40px;
            opacity: 0.9;
        }

        .mission-statement {
            max-width: 800px;
            margin: 60px auto;
            padding: 40px;
            background: rgba(212, 175, 55, 0.1);
            border: 1px solid #d4af37;
            border-radius: 10px;
        }

        .mission-statement h2 {
            color: #d4af37;
            margin-bottom: 20px;
            font-size: 2rem;
        }

        .mission-statement p {
            font-size: 1.1rem;
            margin-bottom: 15px;
        }

        /* Ledger Page */
        .ledger-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 80vh;
            text-align: center;
        }

        .wallet-gate {
            background: linear-gradient(135deg, #d4af37, #b8941f);
            color: #000;
            padding: 20px 40px;
            border: none;
            border-radius: 10px;
            font-size: 1.2rem;
            font-weight: bold;
            cursor: pointer;
            transition: transform 0.3s ease;
            margin-bottom: 30px;
        }

        .wallet-gate:hover {
            transform: scale(1.05);
        }

        .wallet-gate:disabled {
            background: #333;
            color: #666;
            cursor: not-allowed;
            transform: none;
        }

        .ledger-content {
            display: none;
            max-width: 1000px;
            margin: 0 auto;
        }

        .ledger-content.show {
            display: block;
        }

        .portfolio-summary {
            display: flex;
            justify-content: space-between;
            margin-bottom: 40px;
            padding: 20px;
            background: rgba(212, 175, 55, 0.1);
            border: 1px solid #d4af37;
            border-radius: 10px;
        }

        .portfolio-stat {
            text-align: center;
        }

        .portfolio-stat .label {
            font-size: 0.9rem;
            color: #ccc;
            margin-bottom: 5px;
        }

        .portfolio-stat .value {
            font-size: 1.5rem;
            color: #d4af37;
            font-weight: bold;
        }

        .holdings-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
            gap: 40px;
            margin-top: 50px;
            padding: 40px 0;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
        }

        .coin-card {
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            padding: 15px;
        }

        .coin-card:hover {
            transform: scale(1.1);
        }

        .coin-logo {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            overflow: hidden;
            background: rgba(255, 255, 255, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }

        .coin-card:hover .coin-logo {
            background: rgba(212, 175, 55, 0.2);
            box-shadow: 0 8px 25px rgba(212, 175, 55, 0.3);
        }

        .coin-logo img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 50%;
        }

        /* Tooltip */
        .tooltip {
            position: absolute;
            bottom: 100%;
            left: 50%;
            transform: translateX(-50%);
            background: #1a1a1a;
            border: 1px solid #d4af37;
            border-radius: 10px;
            padding: 15px;
            width: 250px;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
            z-index: 1000;
            margin-bottom: 10px;
        }

        .coin-card:hover .tooltip {
            opacity: 1;
            visibility: visible;
        }

        .tooltip::after {
            content: '';
            position: absolute;
            top: 100%;
            left: 50%;
            transform: translateX(-50%);
            border: 8px solid transparent;
            border-top-color: #d4af37;
        }

        .tooltip h4 {
            color: #d4af37;
            margin-bottom: 8px;
            font-size: 1rem;
        }

        .tooltip p {
            font-size: 0.85rem;
            color: #ccc;
            line-height: 1.4;
        }

        /* Employees Page */
        .employees-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            padding: 40px 0;
        }

        .employee-card {
            background: rgba(212, 175, 55, 0.1);
            border: 1px solid #d4af37;
            border-radius: 10px;
            padding: 30px;
            text-align: center;
            transition: transform 0.3s ease;
        }

        .employee-card:hover {
            transform: translateY(-5px);
        }

        .employee-photo {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            background: linear-gradient(135deg, #d4af37, #b8941f);
            margin: 0 auto 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
            color: #000;
            font-weight: bold;
        }

        .employee-name {
            font-size: 1.3rem;
            color: #d4af37;
            margin-bottom: 10px;
        }

        .employee-title {
            font-size: 1.1rem;
            color: #ccc;
            margin-bottom: 15px;
            font-style: italic;
        }

        .employee-bio {
            font-size: 0.95rem;
            line-height: 1.6;
        }

        .page-title {
            text-align: center;
            font-size: 2.5rem;
            color: #d4af37;
            margin-bottom: 20px;
        }

        .page-subtitle {
            text-align: center;
            font-size: 1.2rem;
            color: #ccc;
            margin-bottom: 40px;
            font-style: italic;
        }

        /* Coming Soon Page */
        .coming-soon-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 60vh;
            text-align: center;
        }

        .coming-soon-content {
            max-width: 800px;
            padding: 60px 40px;
            background: rgba(212, 175, 55, 0.1);
            border: 1px solid #d4af37;
            border-radius: 15px;
        }

        .coming-soon-icon {
            font-size: 4rem;
            margin-bottom: 30px;
        }

        .coming-soon-content h2 {
            font-size: 2.5rem;
            color: #d4af37;
            margin-bottom: 20px;
        }

        .coming-soon-content p {
            font-size: 1.2rem;
            color: #ccc;
            margin-bottom: 30px;
            line-height: 1.6;
        }

        .preview-features {
            text-align: left;
            margin: 40px 0;
        }

        .preview-features h3 {
            color: #d4af37;
            margin-bottom: 20px;
        }

        .preview-features ul {
            list-style: none;
            padding-left: 0;
        }

        .preview-features li {
            margin-bottom: 10px;
            padding-left: 20px;
            position: relative;
        }

        .preview-features li::before {
            content: '▶';
            color: #d4af37;
            position: absolute;
            left: 0;
        }

        .eta {
            font-size: 1.1rem;
            color: #d4af37;
            font-weight: bold;
            font-style: italic;
        }

        /* Contact Page */
        .contact-content {
            max-width: 800px;
            margin: 0 auto;
            padding: 40px 0;
        }

        .contact-section {
            margin-bottom: 50px;
            padding: 40px;
            background: rgba(212, 175, 55, 0.1);
            border: 1px solid #333;
            border-radius: 10px;
        }

        .contact-section h3 {
            color: #d4af37;
            font-size: 1.5rem;
            margin-bottom: 20px;
        }

        .contact-section p {
            color: #ccc;
            margin-bottom: 20px;
            line-height: 1.6;
        }

        .discord-button {
            display: inline-flex;
            align-items: center;
            background: #5865f2;
            color: white;
            text-decoration: none;
            padding: 15px 30px;
            border-radius: 10px;
            font-size: 1.1rem;
            font-weight: bold;
            transition: transform 0.3s ease;
        }

        .discord-button:hover {
            transform: scale(1.05);
            text-decoration: none;
            color: white;
        }

        .discord-icon {
            margin-right: 10px;
            font-size: 1.2rem;
        }

        .contact-methods {
            margin-top: 20px;
        }

        .contact-method {
            margin-bottom: 10px;
            font-size: 1.1rem;
        }

        .social-links {
            display: flex;
            gap: 20px;
            margin-top: 20px;
        }

        .social-link {
            color: #d4af37;
            text-decoration: none;
            font-size: 1.1rem;
            padding: 10px 20px;
            border: 1px solid #d4af37;
            border-radius: 5px;
            transition: all 0.3s ease;
        }

        .social-link:hover {
            background: #d4af37;
            color: #000;
            text-decoration: none;
        }

        @media (max-width: 768px) {
            .main-logo {
                font-size: 2.5rem;
            }
            
            .tagline {
                font-size: 1.2rem;
            }
            
            .nav-links {
                gap: 15px;
            }
            
            .nav-links a {
                font-size: 14px;
            }
        }
    </style>
</head>
<body>
    <!-- Market Ticker Bar -->
    <div class="ticker-bar">
        <div class="ticker-content" id="tickerContent">
            <!-- Ticker items will be populated by JavaScript -->
        </div>
    </div>

    <nav>
        <div class="nav-container">
            <a href="#" class="logo" onclick="showPage('home')">BagBros</a>
            <ul class="nav-links">
                <li><a href="#" onclick="showPage('home')" class="active">Home</a></li>
                <li><a href="#" onclick="showPage('portfolio')">Portfolio</a></li>
                <li><a href="#" onclick="showPage('employees')">Team</a></li>
                <li><a href="#" onclick="showPage('contact')">Contact</a></li>
            </ul>
        </div>
    </nav>

    <!-- Home Page -->
    <div id="home" class="page active">
        <section class="hero">
            <div class="hero-content">
                <h1 class="main-logo">BagBros</h1>
                <p class="tagline">"Building conviction, one bag at a time"</p>
            </div>
        </section>
        
        <div class="container">
            <div class="mission-statement">
                <h2>Our Investment Philosophy</h2>
                <p>At BagBros Capital, we believe in turning volatility into opportunity. Our strategy blends disciplined research, sharp analysis, and a community-driven edge that embraces both innovation and conviction.</p>
                <p>We aren't afraid to challenge traditional finance. BagBros invests where culture meets capital—recognizing that true value is found at the intersection of data, sentiment, and bold vision.</p>
                <p>From emerging markets to digital assets, our approach is simple: build conviction, hold strong, and create long-term value for those who share our mission.</p>
            </div>
        </div>
    </div>

    <!-- Portfolio Page -->
    <div id="portfolio" class="page">
        <div class="container">
            <div class="coming-soon-container">
                <h1 class="page-title">Portfolio Dashboard</h1>
                <div class="coming-soon-content">
                    <div class="coming-soon-icon">🚧</div>
                    <h2>Coming Soon</h2>
                    <p>We're building something special. Our interactive portfolio dashboard will showcase our strategic positions and real-time performance metrics.</p>
                    <div class="preview-features">
                        <h3>What's Coming:</h3>
                        <ul>
                            <li>Live portfolio tracking with real-time P&L</li>
                            <li>Interactive token analysis and research</li>
                            <li>Market sentiment indicators</li>
                            <li>Performance analytics and insights</li>
                            <li>Community-driven investment discussions</li>
                        </ul>
                    </div>
                    <p class="eta">Expected Launch: Q2 2025</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Employees Page -->
    <div id="employees" class="page">
        <div class="container">
            <h1 class="page-title">Our Distinguished Team</h1>
            <p class="page-subtitle">Meet the visionaries behind the bags</p>
            
            <div class="employees-grid">
                <div class="employee-card">
                    <div class="employee-photo">N</div>
                    <h3 class="employee-name">Natebag</h3>
                    <p class="employee-title">Co-Founder & Chief Executive Officer</p>
                    <p class="employee-bio">Visionary at the helm—Natebag turns market chaos into strategy with conviction and humor. Known for blending serious investing with community-driven energy, he leads BagBros with equal parts swagger, spreadsheets, and meme-powered momentum.</p>
                </div>
                
                <div class="employee-card">
                    <div class="employee-photo">L</div>
                    <h3 class="employee-name">Lukebag</h3>
                    <p class="employee-title">Manager & Chief Operating Officer</p>
                    <p class="employee-bio">Operations mastermind and steady hand behind the day-to-day. Lukebag ensures everything runs smoothly, from keeping portfolios in check to keeping the vibes professional. Calm, methodical, and quietly ruthless in execution.</p>
                </div>
                
                <div class="employee-card">
                    <div class="employee-photo">M</div>
                    <h3 class="employee-name">Mikobag</h3>
                    <p class="employee-title">Co-Founder & Head of Research</p>
                    <p class="employee-bio">Data-driven thinker and sharp market analyst. Mikobag thrives on breaking down trends others overlook, balancing sharp technicals with a satirical edge. Known for dissecting complex moves with clarity—and always finding the signal in the noise.</p>
                </div>
                
                <div class="employee-card">
                    <div class="employee-photo">W</div>
                    <h3 class="employee-name">Whenbag</h3>
                    <p class="employee-title">Co-Founder & Head of Digital Strategy</p>
                    <p class="employee-bio">Digital strategist and community voice. Whenbag understands markets as culture, translating sentiment into strategy with precision. Part professional, part satirist—he ensures BagBros stays both relevant and ahead of the curve.</p>
                </div>
                
                <div class="employee-card">
                    <div class="employee-photo">D</div>
                    <h3 class="employee-name">Diegobag</h3>
                    <p class="employee-title">Experimental Developer</p>
                    <p class="employee-bio">Mad scientist of code who takes impossible requests and makes them reality. When the team says "can we build this?" Diegobag doesn't ask if it's possible—he asks how quickly they want it shipped. Turns theoretical concepts into production-ready magic.</p>
                </div>
                
                <div class="employee-card">
                    <div class="employee-photo">BJ</div>
                    <h3 class="employee-name">BagJones</h3>
                    <p class="employee-title">Head of Development Operations</p>
                    <p class="employee-bio">Commands an unstoppable army of 3000+ developers and counting. Scales technical operations like a military general, building teams faster than most VCs can write checks. His dev army moves mountains of code while he orchestrates from the command center.</p>
                </div>
                
                <div class="employee-card">
                    <div class="employee-photo">R</div>
                    <h3 class="employee-name">Robbag</h3>
                    <p class="employee-title">Chief Technology Officer</p>
                    <p class="employee-bio">Legendary gamer turned crypto architect. The people's CTO who combines nostalgic gaming wisdom with cutting-edge blockchain tech. Known for his authentic connection to the community and unmatched ability to spot the next big gaming-crypto crossover.</p>
                </div>
                
                <div class="employee-card">
                    <div class="employee-photo">H</div>
                    <h3 class="employee-name">Hovbag</h3>
                    <p class="employee-title">Senior Crypto Scout</p>
                    <p class="employee-bio">Elite gem hunter with surgical precision in early-stage discovery. While others chase trends, Hovbag identifies tomorrow's winners today. His track record of ultra-early calls has earned him legendary status among alpha seekers and yield farmers alike.</p>
                </div>
                
                <div class="employee-card">
                    <div class="employee-photo">D</div>
                    <h3 class="employee-name">Davebag</h3>
                    <p class="employee-title">Head Honcho of Security</p>
                    <p class="employee-bio">Strategic security commander with unconventional methods and formidable presence. Known for his relaxed approach that masks incredible tactical intelligence and physical capabilities. When duty calls for Super Earth, Davebag answers with the combined brainpower of multiple primates and unmatched determination.</p>
                </div>
                
                <div class="employee-card">
                    <div class="employee-photo">B</div>
                    <h3 class="employee-name">BenxoBag</h3>
                    <p class="employee-title">Head of Security Management</p>
                    <p class="employee-bio">Old school gaming veteran with deep indigenous roots who brings traditional wisdom to modern security challenges. Known for his tough, no-nonsense management style and fierce loyalty to the team. When not protecting BagBros assets, he's dominating retro arcade games and building camaraderie over drinks.</p>
                </div>
                
                <div class="employee-card">
                    <div class="employee-photo">S</div>
                    <h3 class="employee-name">samegod</h3>
                    <p class="employee-title">Mastermind of Production</p>
                    <p class="employee-bio">Production orchestrator with divine-level execution capabilities. Samegod transforms ambitious visions into market-ready realities with supernatural efficiency. When deadlines seem impossible and scope feels overwhelming, this production mastermind delivers miracles on schedule.</p>
                </div>
                
                <div class="employee-card">
                    <div class="employee-photo">C</div>
                    <h3 class="employee-name">crimsonbag</h3>
                    <p class="employee-title">IT Specialist</p>
                    <p class="employee-bio">Best tech mind in the game with aggressively autistic attention to detail—and that's his superpower! When systems need fixing or optimization, crimsonbag dives deeper than anyone else dares. Also a refined connoisseur of anime culture, including its most cultured corners. His technical precision is matched only by his passionate appreciation for the finer aspects of Japanese animation.</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Contact Page -->
    <div id="contact" class="page">
        <div class="container">
            <h1 class="page-title">Get In Touch</h1>
            <p class="page-subtitle">Connect with the BagBros community</p>
            
            <div class="contact-content">
                <div class="contact-section">
                    <h3>Join Our Community</h3>
                    <p>The best way to connect with us and fellow investors is through our Discord server. Get real-time market insights, discuss strategies, and stay updated on our latest moves.</p>
                    
                    <a href="https://discord.com/invite/bagbros" class="discord-button" target="_blank">
                        <span class="discord-icon">💬</span>
                        Join BagBros Discord
                    </a>
                </div>
                
                <div class="contact-section">
                    <h3>Business Inquiries</h3>
                    <p>For partnership opportunities, investment discussions, or media requests, reach out through our official channels.</p>
                    
                    <div class="contact-methods">
                        <div class="contact-method">
                            <strong>Email:</strong> contact@thebagbros.com
                        </div>
                        <div class="contact-method">
                            <strong>Response Time:</strong> 24-48 hours
                        </div>
                    </div>
                </div>
                
                <div class="contact-section">
                    <h3>Follow Our Journey</h3>
                    <p>Stay updated with our latest investments, market analysis, and community discussions across our social platforms.</p>
                    
                    <div class="social-links">
                        <a href="#" class="social-link">Twitter</a>
                        <a href="#" class="social-link">Telegram</a>
                        <a href="https://discord.com/invite/bagbros" class="social-link" target="_blank">Discord</a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        let walletConnected = false;
        
        // API configuration
        const COINGECKO_API_KEY = 'CG-QVjrK41NqQH9EGYp1vd9xTL8'; // From your env file
        const COINGECKO_BASE_URL = 'https://api.coingecko.com/api/v3';
        const JUPITER_BASE_URL = 'https://lite-api.jup.ag/price/v3';
        const DEXSCREENER_BASE_URL = 'https://api.dexscreener.com';
        
        // Coin mappings to CoinGecko IDs and Jupiter mint addresses
        const coinData = {
            'ethereum': {
                coingeckoId: 'ethereum',
                isMainnet: true
            },
            'solana': {
                coingeckoId: 'solana',
                isMainnet: true
            },
            'bonk': {
                coingeckoId: 'bonk',
                mintAddress: 'DezXAZ8z7PnrnRJjz3wXBoRgixCa6xjnB7YaB1pPB263' // BONK mint address
            },
            'chainlink': {
                coingeckoId: 'chainlink',
                isMainnet: true
            },
            'fartcoin': {
                mintAddress: '9BB6NFEcjBCtnNLFko2FqVQBq8HHM13kCyYcdQbgpump', // Estimated FARTCOIN mint
                fallbackCoinGecko: 'fartcoin',
                useDexScreener: true
            },
            'giga': {
                mintAddress: '63LfDmNb3MQ8mw9MtZ2To9bEA2M71kZUUGq5tiJxcqj9', // GIGACHAD mint address
                fallbackCoinGecko: 'giga',
                useDexScreener: true
            },
            'mlg': {
                mintAddress: '7XJiwLDrjzxDYdZipnJXzpr1iDTmK55XixSFAa7JgNEL', // MLG mint address
                fallbackCoinGecko: 'mlg',
                useDexScreener: true
            },
            'y2k': {
                // Y2K not found on Solana, using CoinGecko only
                coingeckoId: 'y2k',
                fallbackCoinGecko: 'y2k',
                useDexScreener: false // Not on Solana
            }
        };

        // Fake portfolio holdings for calculation
        const holdings = {
            'ethereum': 150.5,
            'solana': 2100,
            'bonk': 50000000,
            'chainlink': 8500,
            'fartcoin': 1000000,
            'giga': 500000,
            'mlg': 25000,
            'y2k': 100000
        };

        // Ticker display data
        const tickerData = {
            'ethereum': { symbol: 'ETH', mcap: 'MC: $486B' },
            'solana': { symbol: 'SOL', mcap: 'MC: $67B' },
            'bonk': { symbol: 'BONK', mcap: 'MC: $1.8B' },
            'chainlink': { symbol: 'LINK', mcap: 'MC: $15.2B' },
            'fartcoin': { symbol: 'FART', mcap: 'MC: $42M' },
            'giga': { symbol: 'GIGA', mcap: 'MC: $114M' },
            'mlg': { symbol: 'MLG', mcap: 'MC: $9.3M' },
            'y2k': { symbol: 'Y2K', mcap: 'MC: $7.4M' }
        };

        // Store current price data for ticker
        let currentPriceData = {};

        function initializeTicker() {
            // Initialize ticker with loading state
            updateTicker();
            
            // Load prices immediately
            loadLivePrices();
            
            // Auto-refresh ticker and prices every 30 seconds
            setInterval(() => {
                loadLivePrices();
            }, 30000);
        }

        function updateTicker() {
            const tickerContent = document.getElementById('tickerContent');
            let tickerHTML = '';
            
            Object.keys(tickerData).forEach(coin => {
                const data = tickerData[coin];
                const priceInfo = currentPriceData[coin];
                
                if (priceInfo && priceInfo.price > 0) {
                    // Use real price data
                    const price = priceInfo.price;
                    const change1h = priceInfo.change1h;
                    const change24h = priceInfo.change24h;
                    
                    // Format price based on coin type
                    let formattedPrice;
                    if (coin === 'bonk' || coin === 'fartcoin') {
                        formattedPrice = price < 0.001 ? price.toFixed(8) : price.toFixed(6);
                    } else if (coin === 'ethereum') {
                        formattedPrice = price.toFixed(0);
                    } else {
                        formattedPrice = price.toFixed(4);
                    }
                    
                    tickerHTML += `
                        <div class="ticker-item">
                            <span class="ticker-symbol">$${data.symbol}</span>
                            <span class="ticker-price">$${formattedPrice}</span>
                            <span class="ticker-change ${change1h >= 0 ? 'positive' : 'negative'}">${change1h >= 0 ? '+' : ''}${change1h.toFixed(1)}%</span>
                            <span class="ticker-change ${change24h >= 0 ? 'positive' : 'negative'}">${change24h >= 0 ? '+' : ''}${change24h.toFixed(1)}%</span>
                            <span class="ticker-mcap">${data.mcap}</span>
                        </div>
                    `;
                } else {
                    // Show loading state or skip
                    tickerHTML += `
                        <div class="ticker-item">
                            <span class="ticker-symbol">$${data.symbol}</span>
                            <span class="ticker-price">Loading...</span>
                            <span class="ticker-change">--</span>
                            <span class="ticker-change">--</span>
                            <span class="ticker-mcap">${data.mcap}</span>
                        </div>
                    `;
                }
            });
            
            // Duplicate the content to create seamless loop  
            tickerContent.innerHTML = tickerHTML + tickerHTML + tickerHTML;
        }

        function showPage(pageId) {
            // Hide all pages
            const pages = document.querySelectorAll('.page');
            pages.forEach(page => page.classList.remove('active'));
            
            // Show selected page
            document.getElementById(pageId).classList.add('active');
            
            // Update nav
            const navLinks = document.querySelectorAll('.nav-links a');
            navLinks.forEach(link => link.classList.remove('active'));
            event.target.classList.add('active');
            
            // Keep ticker running on all pages
        }

        async function loadLivePrices() {
            try {
                // Get DexScreener prices for Solana tokens first (most comprehensive for shitcoins)
                const dexScreenerMintAddresses = [];
                const dexScreenerCoinMap = {};
                
                Object.keys(coinData).forEach(coin => {
                    const data = coinData[coin];
                    if (data.mintAddress && data.useDexScreener) {
                        dexScreenerMintAddresses.push(data.mintAddress);
                        dexScreenerCoinMap[data.mintAddress] = coin;
                    }
                });
                
                let dexScreenerData = {};
                if (dexScreenerMintAddresses.length > 0) {
                    try {
                        const dexResponse = await fetch(`${DEXSCREENER_BASE_URL}/latest/dex/tokens/${dexScreenerMintAddresses.join(',')}`);
                        if (dexResponse.ok) {
                            const rawDexData = await dexResponse.json();
                            console.log('DexScreener API response:', rawDexData);
                            
                            // Parse DexScreener data
                            if (rawDexData.pairs && rawDexData.pairs.length > 0) {
                                rawDexData.pairs.forEach(pair => {
                                    const coin = dexScreenerCoinMap[pair.baseToken.address];
                                    if (coin && pair.priceUsd) {
                                        dexScreenerData[coin] = {
                                            usd: parseFloat(pair.priceUsd),
                                            usd_24h_change: parseFloat(pair.priceChange?.h24 || 0)
                                        };
                                        console.log(`DexScreener: ${coin} = $${dexScreenerData[coin].usd}`);
                                    }
                                });
                            }
                        }
                    } catch (error) {
                        console.log('DexScreener API failed:', error);
                    }
                }

                // Get Jupiter prices for Solana tokens as backup
                const jupiterMintAddresses = [];
                const jupiterCoinMap = {};
                
                Object.keys(coinData).forEach(coin => {
                    const data = coinData[coin];
                    if (data.mintAddress && !dexScreenerData[coin]) { // Only if DexScreener didn't get it
                        jupiterMintAddresses.push(data.mintAddress);
                        jupiterCoinMap[data.mintAddress] = coin;
                    }
                });
                
                let jupiterData = {};
                if (jupiterMintAddresses.length > 0) {
                    try {
                        const jupiterResponse = await fetch(`${JUPITER_BASE_URL}?ids=${jupiterMintAddresses.join(',')}`);
                        if (jupiterResponse.ok) {
                            const rawJupiterData = await jupiterResponse.json();
                            console.log('Jupiter API response:', rawJupiterData);
                            
                            // Convert Jupiter data to our format
                            if (rawJupiterData.data) {
                                Object.keys(rawJupiterData.data).forEach(mintAddress => {
                                    const coin = jupiterCoinMap[mintAddress];
                                    const tokenData = rawJupiterData.data[mintAddress];
                                    if (coin && tokenData) {
                                        jupiterData[coin] = {
                                            usd: tokenData.price || tokenData.usdPrice || 0,
                                            usd_24h_change: tokenData.priceChange24h || 0
                                        };
                                        console.log(`Jupiter: ${coin} = $${jupiterData[coin].usd}`);
                                    }
                                });
                            }
                            console.log('Jupiter API data loaded for', Object.keys(jupiterData));
                        } else {
                            console.log('Jupiter API response not OK:', jupiterResponse.status);
                        }
                    } catch (error) {
                        console.log('Jupiter API failed, using CoinGecko fallback:', error);
                    }
                }
                
                // Get CoinGecko prices for mainnet tokens and fallbacks
                const coingeckoIds = [];
                Object.keys(coinData).forEach(coin => {
                    const data = coinData[coin];
                    if (data.coingeckoId && (data.isMainnet || !jupiterData[coin])) {
                        coingeckoIds.push(data.coingeckoId);
                    }
                });
                
                let coingeckoData = {};
                if (coingeckoIds.length > 0) {
                    try {
                        const coingeckoResponse = await fetch(
                            `${COINGECKO_BASE_URL}/simple/price?ids=${coingeckoIds.join(',')}&vs_currencies=usd&include_24hr_change=true`,
                            {
                                headers: {
                                    'X-CG-API-KEY': COINGECKO_API_KEY
                                }
                            }
                        );
                        
                        if (coingeckoResponse.ok) {
                            coingeckoData = await coingeckoResponse.json();
                            console.log('CoinGecko API data loaded');
                        }
                    } catch (error) {
                        console.log('CoinGecko API failed:', error);
                    }
                }
                
                // Merge and update prices with all three sources
                updateHybridPrices(dexScreenerData, jupiterData, coingeckoData);
                
            } catch (error) {
                console.log('Using demo prices - API fetch failed:', error);
            }
        }

        function updateHybridPrices(dexScreenerData, jupiterData, coingeckoData) {
            let totalValue = 0;
            
            Object.keys(coinData).forEach(coin => {
                const data = coinData[coin];
                let price = 0;
                let change24h = 0;
                let source = '';
                
                // Priority: DexScreener → Jupiter → CoinGecko
                if (dexScreenerData[coin]) {
                    price = dexScreenerData[coin].usd;
                    change24h = dexScreenerData[coin].usd_24h_change;
                    source = 'DexScreener';
                }
                else if (jupiterData[coin]) {
                    price = jupiterData[coin].usd;
                    change24h = jupiterData[coin].usd_24h_change;
                    source = 'Jupiter';
                }
                // Fall back to CoinGecko
                else if (data.coingeckoId && coingeckoData[data.coingeckoId]) {
                    const cgData = coingeckoData[data.coingeckoId];
                    price = cgData.usd;
                    change24h = cgData.usd_24h_change || 0;
                    source = 'CoinGecko';
                }
                
                if (price > 0) {
                    console.log(`Using ${source} price for ${coin}: $${price}`);
                    const holdingAmount = holdings[coin] || 0;
                    const value = price * holdingAmount;
                    totalValue += value;
                    
                    // Store price data for ticker
                    currentPriceData[coin] = {
                        price: price,
                        change24h: change24h,
                        change1h: (Math.random() - 0.5) * 4 // Generate fake 1h changes
                    };
                    
                    // Update UI - handle special ID mapping
                    const elementId = coin === 'chainlink' ? 'link' : coin === 'fartcoin' ? 'fart' : coin;
                    const valueElement = document.getElementById(`${elementId}-value`);
                    const pnlElement = document.getElementById(`${elementId}-pnl`);
                    
                    if (valueElement) {
                        valueElement.textContent = `$${value.toLocaleString(undefined, {minimumFractionDigits: 0, maximumFractionDigits: 0})}`;
                    }
                    
                    if (pnlElement) {
                        const isPositive = change24h > 0;
                        pnlElement.textContent = `${isPositive ? '+' : ''}${change24h.toFixed(2)}%`;
                        pnlElement.className = `coin-pnl ${isPositive ? 'positive' : 'negative'}`;
                    }
                } else {
                    console.log(`No price data found for ${coin}`);
                }
            });
            
            // Update total portfolio value
            const totalValueElement = document.querySelector('.portfolio-stat .value');
            if (totalValueElement && totalValue > 0) {
                totalValueElement.textContent = `$${totalValue.toLocaleString(undefined, {minimumFractionDigits: 0, maximumFractionDigits: 0})}`;
            }
            
            console.log(`Total portfolio value updated: $${totalValue.toLocaleString()}`);
            
            // Update ticker with new price data
            updateTicker();
        }


        // Initialize ticker on page load
        document.addEventListener('DOMContentLoaded', function() {
            initializeTicker();
        });
    </script>
</body>
</html>